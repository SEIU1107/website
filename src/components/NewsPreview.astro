---
import { Image } from "astro:assets";
import Button from "../components/Button.astro";
import Purple from "/src/images/purple_transparent.png";

export interface Props {
    featuredImg: string /* Picture for the preview */;
    title: string;
    excerpt: string;
    date: string;
    url: string;
}

const {
    featuredImg,
    title = "News Story Title",
    excerpt = "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
    date = "2023-01-01",
    url = "/",
} = Astro.props as Props;
---

<div
    class="relative flex flex-col max-w-[min(420px,_90vw)] bg-white rounded-lg shadow-md m-5"
>
    <a href={"/" + url}>
        <div class="relative group rounded-lg z-6">
            <img
                src={featuredImg}
                alt="Featured Image"
                class="rounded-t-lg aspect-[3/2] object-cover transition grayscale-0 group-hover:grayscale duration-300"
            />

            <div
                class="transition-opacity opacity-0 group-hover:opacity-100 duration-300"
            >
                <Image
                    class="absolute top-0 left-0 rounded-t-lg"
                    src={Purple}
                    alt=""
                />
            </div>

            <div
                class="transition-opacity opacity-0 group-hover:opacity-100 duration-300"
            >
                <h1
                    class="text-white text-center font-Trebuchet text-4xl absolute top-1/3 left-1/2 -translate-x-1/2"
                >
                    <b>Read More</b>
                </h1>
            </div>
        </div>
    </a>

    <div class="px-2.5 pb-2.5">
        <h2
            class="font-Trebuchet font-bold text-xl py-2 text-ellipsis whitespace-nowrap overflow-hidden"
        >
            {title}
        </h2>
        <p class="py-1 font-bold font-Roboto">
            {new Date(date).toLocaleDateString()}
        </p>
        <p class="py-1 font-Roboto">{excerpt}</p>
        <Button text="Read More" href={"/" + url} />
    </div>
</div>

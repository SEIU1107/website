---
import Layout from '../layouts/Layout.astro'
import NewsPreview from '../components/NewsPreview.astro'

const posts = await Astro.glob('../posts/*.md')


---

<Layout title="News Updates">
    <section class="flex justify-center">
        <div class="grid grid-cols-3 gap-0">
            {posts
                .sort((a,b) => (a.frontmatter.date < b.frontmatter.date ? 1 : -1))
                .slice(0,3)
                .map(post => (
                        <NewsPreview
                                featuredImg = {post.frontmatter.featuredImg}
                                title = {post.frontmatter.title}
                                excerpt = {post.frontmatter.excerpt}
                                date = {post.frontmatter.date}
                                url = {post.frontmatter.slug}
                        />
                ))
            }
        </div>
    </section>
</Layout>

<style>


    .previews {
        display: flex;
        flex-direction: row;
        justify-content: center;
        margin: auto;
    }
</style>